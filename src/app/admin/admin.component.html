<h2>Administration</h2>

<div class="admin-controls">
  <p>Question courante: {{ currentQuestionIndex + 1 }} / {{ totalQuestions }}</p>
  
  <!-- Liens d'administration -->
  <div class="admin-navigation">
    <a href="/admin-dashboard" class="btn-dashboard">
      🎯 Tableau de bord CRUD
    </a>
    <a href="/gestion" target="_blank" class="btn-manage">
      🔧 Gérer les questions
    </a>
    <a href="/presentation" class="btn-presentation">
      📺 Ouvrir présentation
    </a>
  </div>
  
  <div class="debug-info">
    <p>Debug: currentQuestionIndex = {{ currentQuestionIndex }}</p>
    <p>Debug: totalQuestions = {{ totalQuestions }}</p>
    <p>Debug: bouton désactivé = {{ currentQuestionIndex >= totalQuestions - 1 }}</p>
  </div>

  <!-- Upload image pour la question courante -->
  <div class="upload-image">
    <label for="imageUpload">Uploader une image pour la question :</label>
    <input type="file" id="imageUpload" accept="image/*" (change)="onImageSelected($event)">
    <div *ngIf="selectedImageUrl">
      <p>Prévisualisation :</p>
      <img [src]="selectedImageUrl" alt="Aperçu" style="max-width:200px;max-height:200px;">
    </div>
  </div>
  
  <button (click)="forceEndTimer()">⏩ Passer la fin du timer</button>
  
  <button 
    (click)="nextQuestion()" 
    [disabled]="currentQuestionIndex >= totalQuestions - 1">
    ➡️ Question suivante
  </button>
  
  <button (click)="nextQuestion()" style="background: red; color: white;">
    🔴 TEST Question suivante
  </button>
</div>

<!-- Test CRUD intégré pour diagnostic -->
<app-admin-crud-test></app-admin-crud-test>
